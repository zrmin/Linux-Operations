<center><h1>二、Vim的使用</h1></center>

1. 功能

   * 命令行模式下的文本编辑器
   * 根据文件扩展名自动判别编程语言。支持代码缩进、代码高亮等功能
   * 语法：`vim filename`
     * 如果已有文件，则打开它
     * 如果没有该文件，则创建它

2. 模式

   * 一般命令模式
     * 默认模式。命令输入方式：按不同的字符可以进行不同的操作。可以复制、粘贴、删除文本等
   * 编辑模式
     * 在一般命令模式下按`i`，会进入编辑模式
     * 按`esc`会退出编辑模式，返回到一般命令模式
   * 命令行模式
     * 在一般命令模式下按下`:`、`/`、`?`三个字母中的任意一个，会进入命令行模式。命令行在最下面。
     * 可以查找、替换、保存、退出、配置编辑器等

3. 操作

   （1） 按`i`：进入编辑模式

   （2）按`esc`：退出编辑模式，进入一般命令模式

   （3）左箭头键：光标向左移动一个字符

   （4）右箭头键：光标向右移动一个字符

   （5）上箭头键：光标向上移动一个字符

   （6）下箭头见：光标向下移动一个字符

   （7）`n<space>`：$$n$$表示数字，按下数字后再按空格，光标会向右移动这一行的$$n$$个字符

   （8）`0`：光标移动到本行开头

   （9）`$`：光标移动到本行末尾

   （10）`G`：光标移动到最后一行

   （11）`:n`：光标移动到第$$n$$行

   （12）`gg`：光标移动到第一行

   （13）`n<enter>`：光标移动到第n行

   （14）`/word`：向光标之下寻找第一个值为`word`的字符串

   （15）`?word`：向光标之上寻找第一个值为`word`的字符串

   （16）`n`：重复前一个查找操作

   （17）`N`：反向重复前一个查找操作

   （18）`:n1,n2s/word1/word2/g`：$$n1$$与$$n2$$为数字，在第$$n1$$行与$$n2$$行之间寻找`word1`这个字符串，并将该字符串替换为`word2`

   （19）`:1,$s/word1/word2/g`：将全文的`word1`替换为`word2`

   （20）`:1,$s/word1/word2/gc`：将全文的`word1`替换为`word2`，且在替换前要求用户确认

   （21）`v`：选中文本

   （22）`y`：复制选中的文本

   （23）`d`：删除文本

   （24）`dd`：删除当前行

   （25）`yy`：复制当前行

   （26）`p`：将复制的数据在光标的下一行/下一个位置粘贴

   （27）`u`：撤销

   （28）`ctrl + r`：取消撤销

   （29）`>`：将选中的文本整体向右缩进一次

   （30）`<`：将选中的文本整体向左缩进一次

   （31）`:w`：保存

   （32）`:w!`：强制保存

   （33）`:q`：退出

   （34）`:q!`：强制退出

   （35）`:wq`：保存并退出

   （36）`:set paste`：设置成粘贴模式，取消代码自动缩进

   （37）`:set nopaste`：取消粘贴模式，开启代码自动缩进

   （38）`:set nu`：显示行号

   （39）`:set nonu`：隐藏行号

   （40）`gg=G`：将全文代码格式化

   （41）`:noh`：关闭查找关键词高亮

   （42）`Ctrl + q`：当`vim`卡死时，可以取消当前正在执行的命令

4. 异常处理

   每次`vim`编辑文件时，会自动创建一个`.filename.swp`的临时文件。如果打开某个文件时，该文件的`swp`文件已存在，则会报错。此时解决方法有两种：

   * 找到正在打开该文件的程序，并退出
   * 直接删除掉该`swp`文件